{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Game.js"],"names":["cc","Class","extends","Component","properties","level","floodPrefab","default","type","Prefab","canvas","Node","move_display","Label","scoreAudio","AudioClip","mode_label","setting_pan","result_pan","btn_restart","btn_friend","lbl_result_title","cup_success","cup_failed","lbl_score","lbl_resul_moves","btn_pause","Sprite","backAudio","spawnInterval","onLoad","spawnCount","scoreparam","name","rows","limit","arrayPosX","arrayPosY","actions","events","initialize","create_table","load_table","score","game_level","schedule","spawnNewStar","spawnNewStar2","finished","game_successed","colours","Color","marginX","marginy","change_level","comein_panAction","moveBy","v2","easing","easeCubicActionOut","comeout_panAction","goout_pan","lobbyAppearAction1","easeElasticOut","lobbyAppearAction2","lobbyAppearAction3","lobbyAppearAction4","lobbyAppearRestart","lobbyAppearFriend","lobbyDisAppearAction1","lobbyDisAppearAction2","lobbyDisAppearAction3","lobbyDisAppearAction4","lobbyDisAppearRestart","lobbyDisAppearFriend","on","EventType","MOUSE_DOWN","out_result_pan_restart","in_result_pan","b_result","zIndex","node","runAction","sequence","fadeOut","delayTime","callFunc","callback_result_in","bind","clear_node","fadeIn","callback_result_out","audioEngine","play","string","moves","limit_moves","restart_game","colortemp","row","col","removeChild","game_table","element","destroy","reset_table","numberToSpawn","start_table","colour","flooded","num","level_name","updateMoves","setSpawnCordinate","random_colour","colour_no","Math","floor","random","flood_element","color","flood_neighbours","test_colour_flood","equals","all_flooded","flood","initial","old_colour","remind","star","spawnNewStarByNum","i","j","push","inum","newcolour","newStar","instantiate","starWidth","width","height","x","y","pos","setPosition","getNewStarPosition","parseInt","jnum","inum1","jnum1","newStar1","addChild","getNewStarPosition6","log","inum2","jnum2","inum3","jnum3","inum4","jnum4","inum5","jnum5","newStar2","newStar3","newStar4","newStar5","gainScore","gameOver","director","loadScene"],"mappings":"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","file":"Game.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        level:[],\r\n        floodPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        canvas: {\r\n            default: null,\r\n            type: cc.Node\r\n        },              \r\n        move_display: {\r\n            default: null,\r\n            type: cc.Label\r\n        },       \r\n        scoreAudio: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        mode_label: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        setting_pan: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        result_pan: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        btn_restart: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        btn_friend: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        lbl_result_title: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        cup_success: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        cup_failed: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        lbl_score: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        lbl_resul_moves: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        btn_pause: {\r\n            default: null,\r\n            type: cc.Sprite\r\n        },\r\n        backAudio: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },  \r\n        spawnInterval: 0,        \r\n    },\r\n\r\n    onLoad: function () { \r\n        \r\n        this.spawnCount = 0;\r\n        this.scoreparam = 0;   \r\n        this.level = \r\n        [\r\n            {   name: \"Normal\",  rows:10, limit: 18 },\r\n            {   name: \"Hard\",    rows:12, limit: 24 },\r\n            {   name: \"Hell\",    rows:18, limit: 31 },\r\n            {   name: \"Extreme\", rows:24, limit: 41 }\r\n        ];\r\n        this.arrayPosX = [];\r\n        this.arrayPosY = [];\r\n        this.actions();\r\n        this.events();      \r\n \r\n        this.initialize();        \r\n        this.create_table();\r\n        this.load_table();\r\n        this.score = 0;\r\n        // this.arrayPosX = [];\r\n        // this.rows = 5;\r\n        // this.reset_table();\r\n        // this.setSpawnCordinate();\r\n    },\r\n\r\n    load_table: function()\r\n    {\r\n        if(this.game_level == 0)\r\n            this.schedule(this.spawnNewStar, this.spawnInterval);\r\n        else\r\n            this.schedule(this.spawnNewStar2, this.spawnInterval);\r\n    },\r\n\r\n    initialize: function()\r\n    {\r\n        this.finished = false;\r\n        this.game_level = 0;\r\n        this.game_successed = false;\r\n        this.colours = [\r\n            new cc.Color(255,127,0), \r\n            new cc.Color(219,90,200),\r\n            new cc.Color(237,92,75),\r\n            new cc.Color(199,219,85),\r\n            new cc.Color(80,178,189),\r\n            new cc.Color(95,87,146)];         \r\n        this.marginX = 50;\r\n        this.marginy = 250;\r\n\r\n        this.change_level(this.game_level);\r\n    },\r\n\r\n    actions: function()\r\n    {\r\n        this.comein_panAction = cc.moveBy(0.5, cc.v2(320, 0)).easing(cc.easeCubicActionOut());\r\n        this.comeout_panAction = cc.moveBy(0.5, cc.v2(-320, 0)).easing(cc.easeCubicActionOut());\r\n        this.goout_pan = cc.moveBy(0.5, cc.v2(-640, 0)).easing(cc.easeCubicActionOut());\r\n\r\n        //Appear Result Pan\r\n        this.lobbyAppearAction1 = cc.moveBy(0.7, cc.v2(0, -280)).easing(cc.easeElasticOut());\r\n        this.lobbyAppearAction2 = cc.moveBy(0.6, cc.v2(0, -280)).easing(cc.easeElasticOut());\r\n        this.lobbyAppearAction3 = cc.moveBy(0.5, cc.v2(0, -280)).easing(cc.easeElasticOut());\r\n        this.lobbyAppearAction4 = cc.moveBy(0.4, cc.v2(0, -280)).easing(cc.easeElasticOut());\r\n\r\n        this.lobbyAppearRestart = cc.moveBy(0.2, cc.v2(320, 0)).easing(cc.easeElasticOut());\r\n        this.lobbyAppearFriend = cc.moveBy(0.1, cc.v2(320, 0)).easing(cc.easeElasticOut());  \r\n        \r\n        //Disapper Result Pan\r\n        this.lobbyDisAppearAction1 = cc.moveBy(0.7, cc.v2(0, 280)).easing(cc.easeElasticOut());\r\n        this.lobbyDisAppearAction2 = cc.moveBy(0.6, cc.v2(0, 280)).easing(cc.easeElasticOut());\r\n        this.lobbyDisAppearAction3 = cc.moveBy(0.5, cc.v2(0, 280)).easing(cc.easeElasticOut());\r\n        this.lobbyDisAppearAction4 = cc.moveBy(0.4, cc.v2(0, 280)).easing(cc.easeElasticOut());\r\n\r\n        this.lobbyDisAppearRestart = cc.moveBy(0.2, cc.v2(-320, 0)).easing(cc.easeElasticOut());\r\n        this.lobbyDisAppearFriend = cc.moveBy(0.1, cc.v2(-320, 0)).easing(cc.easeElasticOut());\r\n    },\r\n\r\n    events: function()\r\n    {\r\n        this.btn_restart.on(cc.Node.EventType.MOUSE_DOWN, function () {            \r\n            this.out_result_pan_restart();                   \r\n        }, this);\r\n\r\n        this.btn_friend.on(cc.Node.EventType.MOUSE_DOWN, function () {            \r\n            // web service                   \r\n        }, this);\r\n    },\r\n\r\n    in_result_pan: function(b_result)\r\n    {\r\n        this.setting_pan.zIndex = 3;\r\n        this.btn_pause.node.runAction(cc.sequence(\r\n            cc.fadeOut(0.7),\r\n            cc.delayTime(0.1)\r\n        ));\r\n        this.result_pan.runAction(cc.sequence(\r\n            cc.moveBy(0.3, cc.v2(320, 0)),\r\n            this.comein_panAction, \r\n            cc.callFunc(this.callback_result_in.bind(this))\r\n        )); \r\n        this.clear_node();\r\n    },\r\n\r\n    out_result_pan_restart: function()\r\n    { \r\n        this.btn_pause.node.runAction(cc.sequence(\r\n            cc.fadeIn(1.5),\r\n            cc.delayTime(0.1)\r\n        ));\r\n        if(this.game_successed)           \r\n        {\r\n            this.cup_success.runAction(cc.sequence(cc.moveBy(0.6, cc.v2(0, 280)), this.lobbyDisAppearAction2));\r\n        }    \r\n        else\r\n        {\r\n            this.cup_failed.runAction(cc.sequence(cc.moveBy(0.6, cc.v2(0, 280)), this.lobbyDisAppearAction2));\r\n        }\r\n        this.lbl_result_title.node.runAction(cc.sequence(\r\n            cc.moveBy(0.7, cc.v2(0, 280)),\r\n            this.lobbyDisAppearAction1\r\n            // ,cc.callFunc(this.callback_result_out.bind(this))\r\n        ));\r\n        this.callback_result_out();\r\n        this.lbl_score.node.runAction(cc.sequence(cc.moveBy(0.5, cc.v2(0, 280)), this.lobbyDisAppearAction3));\r\n        this.lbl_resul_moves.node.runAction(cc.sequence(cc.moveBy(0.4, cc.v2(0, 280)), this.lobbyDisAppearAction4));        \r\n\r\n        this.btn_restart.runAction(cc.sequence(cc.moveBy(0.2, cc.v2(-320, 0)), this.lobbyDisAppearRestart));\r\n        this.btn_friend.runAction(cc.sequence(cc.moveBy(0.1, cc.v2(-320, 0)), this.lobbyDisAppearFriend));\r\n\r\n    },\r\n\r\n    callback_result_in: function()\r\n    {\r\n        cc.audioEngine.play(this.backAudio, false, 1);\r\n        if(this.game_successed)           \r\n        {\r\n            this.lbl_result_title.string = \"PASS\";\r\n            this.cup_success.runAction(cc.sequence(cc.moveBy(0.6, cc.v2(0, -280)), this.lobbyAppearAction2));\r\n        }    \r\n        else\r\n        {\r\n            this.lbl_result_title.string = \"FAIL\";\r\n            this.cup_failed.runAction(cc.sequence(cc.moveBy(0.6, cc.v2(0, -280)), this.lobbyAppearAction2));\r\n        }\r\n        this.lbl_score.string = this.score;\r\n        this.lbl_resul_moves.string = this.moves  + \" / \" + this.limit_moves;\r\n        this.lbl_result_title.node.runAction(cc.sequence(cc.moveBy(0.7, cc.v2(0, -280)), this.lobbyAppearAction1));        \r\n        this.lbl_score.node.runAction(cc.sequence(cc.moveBy(0.5, cc.v2(0, -280)), this.lobbyAppearAction3));\r\n        this.lbl_resul_moves.node.runAction(cc.sequence(cc.moveBy(0.4, cc.v2(0, -280)), this.lobbyAppearAction4));        \r\n\r\n        this.btn_restart.runAction(cc.sequence(cc.moveBy(0.2, cc.v2(320, 0)), this.lobbyAppearRestart));\r\n        this.btn_friend.runAction(cc.sequence(cc.moveBy(0.1, cc.v2(320, 0)), this.lobbyAppearFriend));\r\n        // this.game_successed = false;\r\n    },\r\n\r\n    callback_result_out: function()\r\n    {\r\n        this.result_pan.runAction(cc.sequence(\r\n            cc.moveBy(0.3, cc.v2(-320, 0)),\r\n            this.comeout_panAction, \r\n            cc.callFunc(this.restart_game.bind(this))\r\n        )); \r\n    },\r\n\r\n    restart_game: function()\r\n    {    \r\n        this.game_successed = false;\r\n        this.finished = false;\r\n        this.score = 0;\r\n        this.clear_node();  \r\n        this.change_level(this.game_level);\r\n        this.create_table();\r\n    },    \r\n\r\n    clear_node: function()\r\n    {\r\n        var colortemp = new cc.Color(0, 0, 0);\r\n        for (var row = 0; row < this.rows; row++) {            \r\n            for (var col = 0; col < this.rows; col++) { \r\n                this.node.removeChild(this.game_table[row][col].element);\r\n                this.game_table[row][col].element.destroy();  \r\n            }\r\n        }       \r\n    },\r\n\r\n    reset_table: function()\r\n    {\r\n        this.numberToSpawn = this.rows * this.rows;        \r\n        this.start_table = {};        \r\n        for (var row = 0; row < this.rows; row++) {            \r\n            this.start_table[row] = {};  \r\n            for (var col = 0; col < this.rows; col++)    \r\n                this.start_table[row][col] = 0;\r\n        }  \r\n\r\n        this.game_table = {};\r\n        for (var row = 0; row < this.rows; row++) {\r\n            this.game_table[row] = {};\r\n            for (var col = 0; col < this.rows; col++) {\r\n                this.game_table[row][col] = {\r\n                    colour: null,\r\n                    flooded: false,\r\n                    element: null\r\n                };\r\n            }\r\n        }\r\n    },\r\n\r\n    change_level: function (num)\r\n    {        \r\n        this.game_successed = false;\r\n        this.game_level = num;\r\n        this.rows = this.level[num].rows;\r\n        this.limit_moves = this.level[num].limit;\r\n        this.level_name = this.level[num].name;\r\n        this.moves = 0;\r\n        this.updateMoves();\r\n        this.mode_label.string = this.level_name;        \r\n        this.reset_table();  \r\n        this.setSpawnCordinate();     \r\n    },\r\n\r\n    random_colour: function  ()\r\n    {        \r\n        var colour_no = Math.floor (Math.random () * 6);\r\n        return this.colours[colour_no];\r\n    },    \r\n\r\n    flood_element: function (row, col, colour)\r\n    {\r\n        this.game_table[row][col].colour = colour;\r\n        this.game_table[row][col].element.color = colour;\r\n    },\r\n\r\n    flood_neighbours: function  (row, col, colour)\r\n    {\r\n        if (row < this.rows - 1)\r\n            this.test_colour_flood (row + 1, col, colour);\r\n        if (row > 0)\r\n            this.test_colour_flood (row - 1, col, colour);\r\n        if (col < this.rows - 1)\r\n            this.test_colour_flood (row, col + 1, colour);\r\n        if (col > 0)\r\n            this.test_colour_flood (row, col - 1, colour);\r\n    },\r\n\r\n    test_colour_flood: function  (row, col, colour)\r\n    {\r\n        if (this.game_table[row][col].flooded)\r\n            return;\r\n        if (this.game_table[row][col].colour.equals(colour)) {\r\n            this.game_table[row][col].flooded = true;\r\n            this.scoreparam++;\r\n            this.flood_neighbours (row, col, colour);\r\n        }\r\n    },\r\n\r\n    all_flooded: function  ()\r\n    {\r\n        for (var row = 0; row < this.rows; row++) {\r\n            for (var col = 0; col < this.rows; col++) {\r\n                if (! this.game_table[row][col].flooded) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n\r\n    flood: function(colour, initial)\r\n    {\r\n        if (this.finished)\r\n            return;\r\n        var old_colour = this.game_table[0][0].colour;\r\n        if (! initial && colour == old_colour)\r\n            return;\r\n        this.moves++;        \r\n        \r\n        for (var row = 0; row < this.rows; row++) \r\n            for (var col = 0; col < this.rows; col++) \r\n            {\r\n                if (this.game_table[row][col].flooded)\r\n                 {\r\n                    this.flood_element (row, col, colour);                    \r\n                 } \r\n            }      \r\n        for (var row = 0; row < this.rows; row++)\r\n            for (var col = 0; col < this.rows; col++)\r\n                if (this.game_table[row][col].flooded)\r\n                {\r\n                    this.flood_neighbours (row, col, colour);\r\n                }\r\n        this.score += this.scoreparam * this.scoreparam * 10;        \r\n        this.scoreparam = 0;        \r\n                \r\n        if (this.moves < this.limit_moves)\r\n        {\r\n            if (this.all_flooded ()) \r\n            {\r\n                this.finished = true;\r\n                this.game_successed = true;\r\n                var remind = this.limit_moves - this.moves;\r\n                this.score += remind * remind * 100;           \r\n                this.in_result_pan();\r\n            }\r\n        }\r\n        else\r\n            this.in_result_pan();       \r\n    },\r\n\r\n    create_table: function()\r\n    {\r\n        this.moves = -1;\r\n        this.finished = false;        \r\n        for (var row = 0; row < this.rows; row++) {            \r\n            for (var col = 0; col < this.rows; col++) \r\n            {        \r\n                var colour = this.random_colour();\r\n                this.game_table[row][col].colour = colour;\r\n                // this.start_table[row][col] = colour;\r\n                var star = this.spawnNewStarByNum(row, col, row, colour);                \r\n                this.game_table[row][col].element = star;\r\n                this.game_table[row][col].flooded = false;\r\n            }\r\n        }\r\n        this.game_table[0][0].flooded = true;\r\n        this.flood (this.game_table[0][0].colour, true);\r\n    },\r\n\r\n    setSpawnCordinate: function()\r\n    {      \r\n        this.arrayPosX = [];\r\n        this.arrayPosY = [];\r\n        for(var i = 0; i < this.rows; i++)\r\n            for(var j = 0; j < i+1; j++)\r\n            {\r\n                var num = i -j;\r\n                this.arrayPosX.push(num);\r\n                this.arrayPosY.push(j);\r\n            }\r\n        for(var i = 0; i < this.rows - 1; i++)\r\n            for(var j = i; j < this.rows - 1; j++)\r\n            {\r\n                var num = this.rows -1 -j + i;\r\n                this.arrayPosX.push(num);\r\n                this.arrayPosY.push(j + 1);\r\n            } \r\n        this.spawnCount = 0; \r\n    },\r\n\r\n    spawnNewStarByNum: function(i, j, inum, newcolour) {\r\n              \r\n        var newStar = cc.instantiate(this.floodPrefab);\r\n        var color = newStar.color;                \r\n        newStar.color = newcolour;\r\n        // this.node.addChild(newStar);\r\n        \r\n        var starWidth = (this.canvas.width - 2 * this.marginX) / this.rows;\r\n        newStar.width = starWidth;\r\n        newStar.height = starWidth;      \r\n\r\n        var x =  starWidth * inum - this.canvas.width / 2 + starWidth / 2 + this.marginX;\r\n        var y =  this.canvas.height / 2 - starWidth * j - starWidth / 2  - this.marginy;\r\n        var pos = cc.v2( x , y);\r\n        newStar.setPosition(pos);   \r\n        return newStar;   \r\n    },\r\n\r\n    spawnNewStar: function() \r\n    {        \r\n        if (this.spawnCount >= this.numberToSpawn) {\r\n            return;\r\n        }  \r\n        this.getNewStarPosition();\r\n        this.spawnCount+=2;\r\n    },\r\n\r\n    getNewStarPosition: function () {\r\n\r\n        var i = this.spawnCount % this.rows;\r\n        var j = parseInt(this.spawnCount / this.rows);\r\n        var inum = parseInt(this.arrayPosX[this.spawnCount]);\r\n        var jnum = parseInt(this.arrayPosY[this.spawnCount]);\r\n        var inum1 = parseInt(this.arrayPosX[this.spawnCount + 1]);\r\n        var jnum1 = parseInt(this.arrayPosY[this.spawnCount + 1]);    \r\n        var newStar = this.game_table[inum][jnum].element;\r\n        var newStar1 = this.game_table[inum1][jnum1].element;      \r\n        this.node.addChild(newStar);\r\n        this.node.addChild(newStar1);\r\n    },\r\n\r\n    spawnNewStar2: function() \r\n    {        \r\n        if (this.spawnCount >= this.numberToSpawn) {\r\n            return;\r\n        }  \r\n        this.getNewStarPosition6();\r\n        this.spawnCount+=6;\r\n    },\r\n\r\n    getNewStarPosition6: function () {\r\n        cc.log(6);\r\n        var i = this.spawnCount % this.rows;\r\n        var j = parseInt(this.spawnCount / this.rows);\r\n        var inum = parseInt(this.arrayPosX[this.spawnCount]);\r\n        var jnum = parseInt(this.arrayPosY[this.spawnCount]);\r\n        var inum1 = parseInt(this.arrayPosX[this.spawnCount + 1]);\r\n        var jnum1 = parseInt(this.arrayPosY[this.spawnCount + 1]);\r\n        var inum2 = parseInt(this.arrayPosX[this.spawnCount + 2]);\r\n        var jnum2 = parseInt(this.arrayPosY[this.spawnCount + 2]);    \r\n        var inum3 = parseInt(this.arrayPosX[this.spawnCount + 3]);\r\n        var jnum3 = parseInt(this.arrayPosY[this.spawnCount + 3]);\r\n        var inum4 = parseInt(this.arrayPosX[this.spawnCount + 4]);\r\n        var jnum4 = parseInt(this.arrayPosY[this.spawnCount + 4]); \r\n        var inum5 = parseInt(this.arrayPosX[this.spawnCount + 5]);\r\n        var jnum5 = parseInt(this.arrayPosY[this.spawnCount + 5]);     \r\n        var newStar = this.game_table[inum][jnum].element;\r\n        var newStar1 = this.game_table[inum1][jnum1].element;\r\n        var newStar2 = this.game_table[inum2][jnum2].element;  \r\n        var newStar3 = this.game_table[inum3][jnum3].element;\r\n        var newStar4 = this.game_table[inum4][jnum4].element;\r\n        var newStar5 = this.game_table[inum5][jnum5].element;        \r\n        this.node.addChild(newStar);\r\n        this.node.addChild(newStar1);\r\n        this.node.addChild(newStar2);\r\n        this.node.addChild(newStar3);\r\n        this.node.addChild(newStar4);\r\n        this.node.addChild(newStar5);\r\n    },\r\n\r\n    updateMoves: function () {                \r\n        this.move_display.string = this.moves + \" / \" + this.limit_moves; \r\n    },\r\n\r\n    gainScore: function () {\r\n    },\r\n\r\n    gameOver: function () {\r\n        cc.director.loadScene('game');\r\n    }\r\n});\r\n"]}